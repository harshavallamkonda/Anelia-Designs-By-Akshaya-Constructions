document.addEventListener("DOMContentLoaded",function(){window.toggleMobileMenu=function(){document.getElementById("mobileMenu").classList.toggle("active")},window.closeMobileMenu=function(){document.getElementById("mobileMenu").classList.remove("active")},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth"})})}),window.toggleDropdown=function(e){const t=document.getElementById(e),o=document.getElementById(e+"-icon");t&&(t.classList.toggle("active"),o&&o.classList.toggle("rotated"))},window.togglePackagesSection=function(e){const t=document.getElementById("construction-packages-section"),o=document.getElementById("interior-packages-section"),n=document.getElementById(e);if(!n)return;const r=n.classList.contains("hidden");t.classList.add("hidden"),o.classList.add("hidden"),r&&(n.classList.remove("hidden"),setTimeout(()=>{n.scrollIntoView({behavior:"smooth",block:"start"})},100))},document.querySelectorAll(".view-packages-btn").forEach(e=>{e.addEventListener("click",function(){const e=this.dataset.target;window.togglePackagesSection(e)})}),window.handleFormSubmit=function(e){e.preventDefault();var t=new FormData(e.target),n=t.get("name"),r="Name: "+n+"%0D%0AEmail: "+t.get("email")+"%0D%0APhone: "+t.get("phone")+"%0D%0AService: "+t.get("service")+"%0D%0AMessage: "+t.get("message");window.location.href="mailto:sales@aneliadesign.com?subject=Website Inquiry from "+n+"&body="+r},window.showToast=function(e,t){var o=document.getElementById('emailjs-toast');o&&o.remove();var d=document.createElement('div');d.id='emailjs-toast',d.setAttribute('role','status'),d.style.position='fixed',d.style.right='16px',d.style.bottom='24px',d.style.padding='12px 16px',d.style.background=t==='success'?'#064e3b':'#4b0000',d.style.color='#fff',d.style.borderRadius='8px',d.style.boxShadow='0 8px 24px rgba(2,6,23,0.4)',d.style.zIndex=9999,d.textContent=e,document.body.appendChild(d),setTimeout(function(){d.remove()},6e3)},window.addEventListener("scroll",function(){const e=document.querySelector(".navbar");if(window.scrollY>50)e.style.background="rgba(255, 255, 255, 0.95)";else e.style.background="rgba(255, 255, 255, 0.8)";if(!window._isScrollTicking){window._isScrollTicking=!0,window.requestAnimationFrame(()=>{document.body.classList.add("scroll-glow"),window._isScrollTicking=!1})}clearTimeout(window._scrollGlowTimeout),window._scrollGlowTimeout=setTimeout(()=>{document.body.classList.remove("scroll-glow")},180)}),document.querySelectorAll("img").forEach(e=>{e.addEventListener("load",function(){this.style.opacity="1"}),e.style.opacity="0",e.style.transition="opacity 0.3s ease",e.complete&&(e.style.opacity="1")});const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".feature-card, .service-card, .package-card, .project-card").forEach(t=>{t.style.opacity="0",t.style.transform="translateY(20px)",t.style.transition="opacity 0.6s ease, transform 0.6s ease",e.observe(t)})});